{"version":3,"file":"static/js/58.d57544d5.chunk.js","mappings":"iLACA,EAAuB,wBAAvB,EAAsD,wB,SCoCtD,EAjCkB,SAAC,GAAqC,IAAnCA,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,SAA0B,IAAhBC,KAAAA,OAAgB,MAAT,GAAS,EAErD,OACE,eAAIC,UAAWC,EAAf,SACGJ,EAAOK,KAAI,SAAAC,GAAK,OACf,SAAC,KAAD,CAEEC,GAAIL,EAAI,UAAMI,EAAME,IACpBC,MAAO,CAAEC,KAAMT,GAHjB,UAKE,gBAAIE,UAAWC,EAAf,WACE,gBACEO,IACEL,EAAMM,YAZJ,mCAaYN,EAAMM,YAChB,6EAENC,IAAKP,EAAMQ,SAEb,wBAAKR,EAAMQ,OAASR,EAAMS,WAbvBT,EAAME,GAFE,KAqBtB,C,4HC3BDQ,EAAAA,EAAAA,SAAAA,QAAyB,+BACzB,IAEaC,EAAmB,mCAAG,WAAMC,GAAN,uFACVF,EAAAA,EAAAA,IAAA,+BAHT,mCAGS,kBACoBE,EADpB,+CADU,cAC3BC,EAD2B,yBAI1BA,EAASC,KAAKC,SAJY,2CAAH,sD,0BCJhC,EAAuB,yBAAvB,EAA8D,gCAA9D,EAA6G,iC,SCiB7G,EAfmB,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACpB,OACE,kBAAMC,SAAUD,EAAcnB,UAAWC,EAAzC,WACE,kBAAOoB,KAAK,OAAOT,KAAK,QAAQZ,UAAWC,KAC3C,mBAAQoB,KAAK,SAASrB,UAAWC,EAAjC,sBAKL,ECyBD,EA/Be,WAAO,IAAD,EACnB,GAA2BqB,EAAAA,EAAAA,UAAS,IAApC,eAAOzB,EAAP,KAAe0B,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACM5B,GAAW6B,EAAAA,EAAAA,MACXZ,EAAK,UAAGU,EAAaG,IAAI,gBAApB,QAAgC,IAE3CC,EAAAA,EAAAA,YAAU,WACJd,GACFD,EAAoBC,GAAOe,MAAK,SAAAC,GAAG,OAAIR,EAASQ,EAAb,GAEtC,GAAE,CAAChB,IAaJ,OACE,iCACE,SAAC,EAAD,CAAYK,SAbK,SAAAY,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cAEf,GAAkC,KAA9BD,EAAKE,SAASrB,MAAMsB,MACtB,OAAOX,EAAgB,CAAC,GAE1BA,EAAgB,CAAEX,MAAOmB,EAAKE,SAASrB,MAAMsB,QAC7CH,EAAKI,OACN,KAKG,SAACC,EAAA,EAAD,CAAW1C,OAAQA,EAAQC,SAAUA,MAG1C,C","sources":["webpack://react-homework-template/./src/components/movieList/MovieList.module.css?db32","components/movieList/MovieList.jsx","api-services/fetchMoviesBySearch.js","webpack://react-homework-template/./src/components/searchForm/SearchForm.module.css?1aef","components/searchForm/SearchForm.jsx","pages/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieList_list__3qPgi\",\"item\":\"MovieList_item__gC2lM\"};","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport css from 'components/movieList/MovieList.module.css';\n\nconst MovieList = ({ movies, location, path = '' }) => {\n  const baseUrl = 'https://image.tmdb.org/t/p/w500/';\n  return (\n    <ul className={css.list}>\n      {movies.map(movie => (\n        <Link\n          key={movie.id}\n          to={path + `${movie.id}`}\n          state={{ from: location }}\n        >\n          <li className={css.item}>\n            <img\n              src={\n                movie.poster_path\n                  ? baseUrl + movie.poster_path\n                  : 'https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie.jpg'\n              }\n              alt={movie.title}\n            />\n            <h3>{movie.title || movie.name}</h3>\n          </li>\n        </Link>\n      ))}\n    </ul>\n  );\n};\n\nMovieList.propTypes = {\n  movie: PropTypes.object,\n  location: PropTypes.object,\n  path: PropTypes.string,\n};\n\nexport default MovieList;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '31a8ef80bd42f9d6ae436f1a3ce6195b';\n\nexport const fetchMoviesBySearch = async query => {\n  const responce = await axios.get(\n    `search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n  );\n  return responce.data.results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__ThZqH\",\"searchField\":\"SearchForm_searchField__w14Nu\",\"searchButton\":\"SearchForm_searchButton__WNmhq\"};","import PropTypes from 'prop-types';\nimport css from 'components/searchForm/SearchForm.module.css';\n\nconst SearchForm = ({ handleSubmit }) => {\n  return (\n    <form onSubmit={handleSubmit} className={css.form}>\n      <input type=\"text\" name=\"query\" className={css.searchField} />\n      <button type=\"submit\" className={css.searchButton}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  handleSubmit: PropTypes.func,\n};\n\nexport default SearchForm;\n","import { useEffect, useState } from 'react';\nimport { fetchMoviesBySearch } from 'api-services/fetchMoviesBySearch';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport MovieList from 'components/movieList/MovieList';\nimport SearchForm from 'components/searchForm/SearchForm';\n\nconst Movies = () => {\n  const [movies, setMovie] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (query) {\n      fetchMoviesBySearch(query).then(res => setMovie(res));\n    }\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n\n    if (form.elements.query.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: form.elements.query.value });\n    form.reset();\n  };\n\n  return (\n    <>\n      <SearchForm onSubmit={handleSubmit} />\n      <MovieList movies={movies} location={location} />\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["movies","location","path","className","css","map","movie","to","id","state","from","src","poster_path","alt","title","name","axios","fetchMoviesBySearch","query","responce","data","results","handleSubmit","onSubmit","type","useState","setMovie","useSearchParams","searchParams","setSearchParams","useLocation","get","useEffect","then","res","e","preventDefault","form","currentTarget","elements","value","reset","MovieList"],"sourceRoot":""}